     1                                  bits 32
     2                                  
     3                                  global _sufix
     4                                  extern _printf
     5                                  
     6                                  segment data public data use32
     7 00000000 00<rept>                rezultat times 100 db 0
     8                                  
     9                                  segment code public code use32
    10                                  
    11                                  
    12                                  _sufix:
    13                                  
    14 00000000 55                          push ebp
    15 00000001 89E5                        mov ebp,esp
    16 00000003 BB00000000                  mov ebx,0  ;contor spatii
    17                                      
    18 00000008 8B7508                      mov esi,[ebp + 8]
    19 0000000B 8B7D0C                      mov edi,[ebp + 12]
    20                                      
    21 0000000E FC                          cld
    22                                      .parcurge_sir1:
    23 0000000F AC                              lodsb
    24 00000010 3C00                            cmp al,0
    25 00000012 7402                            je .sub_parcurge_sir1
    26 00000014 EBF9                        jmp .parcurge_sir1
    27                                      
    28                                      .sub_parcurge_sir1:
    29 00000016 89F3                        mov ebx,esi         ;unde se termina sir1
    30 00000018 83C302                      add ebx,2
    31                                      
    32 0000001B 8B750C                      mov esi,[ebp + 12]
    33                                      .parcurge_sir2:
    34 0000001E AC                              lodsb
    35 0000001F 3C00                            cmp al,0
    36 00000021 7402                            je .sub_parcurge_sir2
    37 00000023 EBF9                        jmp .parcurge_sir2
    38                                      
    39                                       .sub_parcurge_sir2:
    40 00000025 83EE02                       sub esi,2  ;sir 2
    41 00000028 89DF                         mov edi,ebx  ; sir 1
    42 0000002A FD                           std
    43                                       .compara_sirurile:
    44 0000002B A6                              cmpsb
    45 0000002C 7502                            jne .sub_compara_sirurile
    46 0000002E EBFB                         jmp .compara_sirurile
    47                                       
    48                                       .sub_compara_sirurile:
    49 00000030 FC                           cld
    50 00000031 83C602                       add esi,2
    51 00000034 BF[00000000]                 mov edi,rezultat
    52                                       .pune_in_rezultat:
    53 00000039 AC                              lodsb
    54 0000003A 3C00                            cmp al,0
    55 0000003C 7401                            je finish
    56 0000003E AA                              stosb
    57                                       
    58                                      
    59                                       finish:
    60 0000003F AA                           stosb
    61 00000040 B8[00000000]                 mov eax,rezultat
    62 00000045 89EC                         mov esp,ebp
    63 00000047 5D                           pop ebp
    64 00000048 C3                           ret
    65                                  
    66                                          
    67                                          
    68                                      
