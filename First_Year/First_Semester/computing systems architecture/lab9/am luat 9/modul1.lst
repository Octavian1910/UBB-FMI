     1                                  bits 32
     2                                  
     3                                  global _OGLINDIT
     4                                  
     5                                  extern _printf
     6                                  
     7                                  segment data public data use32
     8 00000000 02000000                doi dd 2
     9 00000004 25730D0A00              format db "%s",13,10,0
    10 00000009 256300                  format2 db "%c",0
    11                                  segment code public code use32
    12                                  
    13                                  _OGLINDIT:
    14 00000000 55                          push ebp
    15 00000001 89E5                        mov ebp,esp
    16 00000003 FC                          cld
    17 00000004 8B7508                      mov esi,[ebp+8];sir
    18 00000007 31C9                        xor ecx,ecx  ;ct litere
    19                                      
    20                                      .parcurge:
    21 00000009 AC                              lodsb
    22 0000000A 3C00                            cmp al,0
    23 0000000C 7407                            je .cuv_numarate
    24 0000000E 3C0A                            cmp al,10
    25 00000010 7403                            je .cuv_numarate
    26                                          
    27 00000012 41                              inc ecx
    28                                          
    29 00000013 EBF4                        jmp .parcurge
    30                                      
    31                                      .cuv_numarate:
    32 00000015 56                          push esi        ;salvam finalul sirului
    33 00000016 31D2                        xor edx,edx
    34 00000018 31C0                        xor eax,eax
    35 0000001A 89C8                        mov eax,ecx
    36 0000001C F735[00000000]              div dword [doi]
    37 00000022 83FA00                      cmp edx,0
    38 00000025 7515                        jne .pregatire
    39                                      
    40                                      ;daca e par si  afisam normal
    41                                      
    42 00000027 8B4508                      mov eax,[ebp+8]
    43 0000002A 60                          pushad
    44 0000002B 50                          push eax
    45 0000002C 68[04000000]                push format
    46 00000031 E8(00000000)                call _printf
    47 00000036 83C408                      add esp,4*2
    48 00000039 61                          popad
    49                                      
    50 0000003A EB1B                        jmp .finish
    51                                          
    52                                       .pregatire:
    53 0000003C 5E                              pop esi ;la finalul sirului + 1
    54 0000003D 83EE02                          sub esi,2 ; ultima litera
    55                                       
    56 00000040 FD                              std
    57                                       .e_impar:
    58 00000041 AC                              lodsb
    59 00000042 0FB6C0                          movzx eax,al
    60 00000045 60                              pushad
    61 00000046 50                              push eax
    62 00000047 68[09000000]                    push format2
    63 0000004C E8(00000000)                    call _printf
    64 00000051 83C408                          add esp,4*2
    65 00000054 61                              popad
    66 00000055 E2EA                         loop .e_impar
    67                                          
    68                                          
    69                                          
    70                                      .finish:
    71 00000057 FC                          cld
    72 00000058 89EC                        mov esp,ebp
    73 0000005A 5D                          pop ebp
    74 0000005B C3                          ret
    75                                      
    76                                  
    77                                  
